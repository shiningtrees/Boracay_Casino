# Worklog - 2026-02-12

## Today Focus

- 실전 전환 전 안정성 보강
- 주문 실패/네트워크 장애 시 동작 검증
- 서버 배포 자동화 문서/스크립트 정비

## Completed

1) 스케줄/운영 안정화
- 절대시각 기준 주기 실행 및 시작 시각 게이트 유지
- 중복 실행 방지 락 로직 보강

2) 주문/리스크 안전장치
- 최소 주문/잔고 가드 적용
- 주문 재시도 로직 적용(매수/매도)
- 메시지/상태에 잔고 표시 강화

3) 장애 시나리오 테스트
- 시세 조회 1회 실패, 매수/매도 N회 실패 강제 시나리오 검증
- 재시도 성공/소진 케이스 확인

4) 상태 정합성 테스트
- 진입 실패 시 pending/active 정합성 확인
- 진입/청산 시 active/history/cooldown 정합성 확인
- 별도 테스트 스크립트로 PASS 확인

5) 배포 준비
- Dockerfile/compose 운영형 정비
- 상태 파일 경로 환경변수화(`STATE_FILE_PATH`)
- 서버 배포 가이드 문서화(`SERVER_DEPLOY.md`)
- one-clip 설치 스크립트(`deploy/install_server.sh`)
- systemd 서비스 유닛(`deploy/boracay-casino.service`)

## Validation

- Python compile check: pass
- Lint check: no issues
- Docker local smoke test: build/up/down pass

## Remaining (Operational)

- 24시간 드라이런 실제 수행 및 PASS 확인
- Go-Live 당일 수동 모니터링
- `RUN_MODE="live"` + 필요 시 `ENABLE_REAL_ORDERS=True` 전환
